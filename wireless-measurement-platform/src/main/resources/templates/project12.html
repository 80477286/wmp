<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <title>无线度量平台管理</title>

    <link rel="stylesheet" type="text/css"
          href="webjars/extjs/6.2.0/build/classic/theme-neptune/resources/theme-neptune-all.css"/>
    <script type="text/javascript" src="webjars/extjs/6.2.0/build/ext-all.js"></script>
    <script type="text/javascript" src="webjars/extjs/6.2.0/build/classic/theme-neptune/theme-neptune.js"></script>
</head>
<body>
<script type="text/javascript">
    Ext.Loader.setConfig({
        enabled: true,
        disableCachingParam: 'dc',
        disableCaching: false,
        paths: {// '类名前缀':'所在路径'
            'Extend': '/webjars/extjs/6.2.0/extend',
            'MExt': '/webjars/extjs/6.2.0/extend',
            'Ext.ux': '/webjars/extjs/6.2.0/packages/ux/classic/src'
        }
    });


    Ext.define('TitledComponent', {
        extend: 'Ext.Component',
        baseCls: 'titled-component',
        childEls: ['body', 'headerEl'],
        renderTpl: [
            '<h4 id="{id}-headerEl" class="{baseCls}-header">{header:htmlEncode}</h4>',
            '<div id="{id}-body" class="{baseCls}-body">{% this.renderContent(out, values) %}</div>'
        ],
        getTargetEl: function () {
            return this.body;
        },
        // Override the default implementation to add in the header text
        initRenderData: function () {
            var data = this.callParent();

            // Add the header property to the renderData
            data.header = this.header;

            return data;
        },

        setHeader: function (header) {
            this.header = header;
            // The headerEl will only exist after rendering
            if (this.headerEl) {
                this.headerEl.update(Ext.util.Format.htmlEncode(header));
            }
        }
    });
    Ext.define('BiographyComponent', {
        extend: 'TitledComponent',
        alias: ['widget.BiographyComponent'],
        xtype: 'biography',
        header: 'Biography',
        tpl: '{name} is {age:plural("year")} old and lives in {location}',
        // Override update to automatically set the date in the header
        update: function (data) {
            this.callParent(arguments);
            this.setHeader('Biography updated at ');
        }
    });


    Ext.onReady(function () {
        Ext.create('Ext.Viewport', {
            layout: 'border',
            items: [{
                region: 'north',
                xtype: 'BiographyComponent',
                height: 100,
                title: 'xxx',
                data: {
                    age: 26,
                    location: 'Italy',
                    name: 'Mario'
                }, listeners: {
                    afterrender: function () {
                        this.update(  {
                            age: 261,
                            location: 'Italy',
                            name: 'Mario'
                        });
                    }
                }
            }, {
                region: 'center',
                html: 'center'
            }
            ]
        })
    });
</script>

</body>
</html>